{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>{{ board.name }}</title>
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <script src="{% static 'core/js/board.js' %}"></script>
</head>

<body>

<h1>{{ board.name }}</h1>
<button onclick="copyBoardLink()">ğŸ”— Share Board</button>
<button onclick="shareBoard()">ğŸ“² Share via Device</button>


<p id="share-msg" style="color: green; display:none;">
    âœ” Board link copied!
</p>

<p>By <strong>{{ board.user.username }}</strong></p>

<!-- FOLLOW / UNFOLLOW BOARD -->
{% if request.user.is_authenticated and board.user != request.user %}
<form method="POST" action="{% url 'toggle_board_follow' board.id %}">
    {% csrf_token %}
    {% if is_following_board %}
        <button type="submit">âŒ Unfollow Board</button>
    {% else %}
        <button type="submit">â• Follow Board</button>
    {% endif %}
</form>
{% endif %}

<br>

<!-- FOLLOWERS COUNT (CLICKABLE) -->
<a href="{% url 'board_followers' board.id %}">
    {{ board.boardfollow_set.count }} followers
</a>

<br><br>

<!-- ONLY OWNER CAN ADD PINS -->
{% if request.user == board.user %}
<a href="{% url 'create_pin' board.id %}">â• Add Pin</a>
{% endif %}

<br><br>

<!-- ğŸ§© PINTEREST MASONRY GRID -->
<div class="masonry">
    {% for pin in pins %}
    <div class="masonry-item">
        <a href="{% url 'pin_detail' pin.id %}">
            <img src="{{ pin.image.url }}">
        </a>
        <p>{{ pin.title }}</p>
    </div>
    {% empty %}
        <p>No pins yet.</p>
    {% endfor %}
</div>

<br>

<a href="{% url 'home' %}">â† Back to Boards</a>

</body>
</html>
